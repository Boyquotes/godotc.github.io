1. 获取当前主机的外网地址
```
curl -L ip.tool.lu
```

2. 路由器的每个网口都有不同的mac地址

## 节点通信之间的关系
- 电脑视角：
	1. 我的IP， target IP
	2. 通过子网掩码判断是否再同一个子网
	3. 同一个子网就ARP获取mac再发送
	4. 不在就向默认网关发送arp
- 交换机视角（数据链路）：
	1. 我收到的数据包有 target 的MAC地址
	2. 通过 MAC 查表映射关系
	3. 查到了就发向映射的端口
	4. 查不到就广播收回信
- 路由器视角（协议）：
	1. 我收到的数据包必须有 target 的IP地址
	2. 查 路由表 获得映射关系
	3. 查到了就发往指定端口（不在子网，发向默认网关也是查到了）
	4. 查不到就返回一个路由不可达的数据包
	
### **涉及到的三张表分别是：**  
-   1）交换机中有 MAC 地址表用于映射 MAC 地址和它的端口；
-   2）路由器中有路由表用于映射 IP 地址(段)和它的端口；
-   3）电脑和路由器中都有 ARP 缓存表用于缓存 IP 和 MAC 地址的映射关系。
