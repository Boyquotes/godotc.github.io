# 环境配置

## 1. 启动参数
有 `ucrt, mingw , clang ` 等多种跨平台架构
使用是 mingw, 或则使用对应的启动脚本
```
msys2.exe -mingw64
```


## 2. 使用 pacman 进行包管理
- 安装编译链工具， 与库
```sh
pacman -S <arch>-gcc
pacman -S <arch>-libc
```

- **注意**:  使用cmake时需要安装**对应架构**的cmake， 否则构建时无法找到相应的路径
如安装的gcc为`mingw-w64-x86_64-gcc` ，则cmake也应该安装对应的`mingw-w64-x86_64-cmake` ,下次进入bash时会自动切换环境变量

## 产生的问题

### 问题1: clangd 无法识别当前架构的include

- **血坑** :
不要使用windows本体的clangd, 这样只会识别到 visual studio 内的头文件.
我在设置环境变量时直接 export 了本体的 LLVM 路径，所以lsp 一直找不到当前环境下的头文件

- **Solution**:
 clone一个 llvm 项目用当前框架的编译链构建一个 clangd, 把 clangd.exe 与 clangd-indexer.exe 拷贝到 <架构>/bin 下

### 问题2：include iostream 报错
- 在使用CMAKE时， 需要指定 `-G "Unix Makefiles"` ，否则export 出的 `compile_commands.json` 文件会包含windows特色`\\` ， 头文件搜仍旧出错
